Ballerina File(0,2162)
  IMPORT_DECLARATION(0,20)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,19)
      PACKAGE_NAME(17,19)
        PsiElement(identifier)('io')(17,19)
    PsiElement(;)(';')(19,20)
  PsiWhiteSpace('\n')(20,21)
  IMPORT_DECLARATION(21,43)
    PsiElement(import)('import')(21,27)
    PsiWhiteSpace(' ')(27,28)
    ORG_NAME(28,37)
      PsiElement(identifier)('ballerina')(28,37)
    PsiElement(/)('/')(37,38)
    COMPLETE_PACKAGE_NAME(38,42)
      PACKAGE_NAME(38,42)
        PsiElement(identifier)('http')(38,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n')(43,44)
  IMPORT_DECLARATION(44,66)
    PsiElement(import)('import')(44,50)
    PsiWhiteSpace(' ')(50,51)
    ORG_NAME(51,60)
      PsiElement(identifier)('ballerina')(51,60)
    PsiElement(/)('/')(60,61)
    COMPLETE_PACKAGE_NAME(61,65)
      PACKAGE_NAME(61,65)
        PsiElement(identifier)('mime')(61,65)
    PsiElement(;)(';')(65,66)
  PsiWhiteSpace('\n')(66,67)
  IMPORT_DECLARATION(67,88)
    PsiElement(import)('import')(67,73)
    PsiWhiteSpace(' ')(73,74)
    ORG_NAME(74,83)
      PsiElement(identifier)('ballerina')(74,83)
    PsiElement(/)('/')(83,84)
    COMPLETE_PACKAGE_NAME(84,87)
      PACKAGE_NAME(84,87)
        PsiElement(identifier)('log')(84,87)
    PsiElement(;)(';')(87,88)
  PsiWhiteSpace('\n\n')(88,90)
  DEFINITION(90,1126)
    ANNOTATION_ATTACHMENT(90,136)
      PsiElement(@)('@')(90,91)
      NAME_REFERENCE(91,109)
        PACKAGE_REFERENCE(91,96)
          PsiElement(identifier)('http')(91,95)
          PsiElement(:)(':')(95,96)
        PsiElement(identifier)('ServiceConfig')(96,109)
      PsiWhiteSpace(' ')(109,110)
      RECORD_LITERAL(110,136)
        PsiElement({)('{')(110,111)
        PsiWhiteSpace('\n    ')(111,116)
        RECORD_LITERAL_BODY(116,134)
          RECORD_KEY_VALUE(116,134)
            RECORD_KEY(116,124)
              VARIABLE_REFERENCE_EXPRESSION(116,124)
                SIMPLE_VARIABLE_REFERENCE(116,124)
                  NAME_REFERENCE(116,124)
                    PsiElement(identifier)('basePath')(116,124)
            PsiElement(:)(':')(124,125)
            PsiWhiteSpace(' ')(125,126)
            SIMPLE_LITERAL_EXPRESSION(126,134)
              SIMPLE_LITERAL(126,134)
                PsiElement(QUOTED_STRING_LITERAL)('"/hello"')(126,134)
        PsiWhiteSpace('\n')(134,135)
        PsiElement(})('}')(135,136)
    PsiWhiteSpace('\n')(136,137)
    DEFINITION(137,1126)
      SERVICE_DEFINITION(137,1126)
        PsiElement(service)('service')(137,144)
        PsiElement(<)('<')(144,145)
        NAME_REFERENCE(145,157)
          PACKAGE_REFERENCE(145,150)
            PsiElement(identifier)('http')(145,149)
            PsiElement(:)(':')(149,150)
          PsiElement(identifier)('Service')(150,157)
        PsiElement(>)('>')(157,158)
        PsiWhiteSpace(' ')(158,159)
        PsiElement(identifier)('httpService')(159,170)
        PsiWhiteSpace(' ')(170,171)
        SERVICE_ENDPOINT_ATTACHMENTS(171,190)
          PsiElement(bind)('bind')(171,175)
          PsiWhiteSpace(' ')(175,176)
          RECORD_LITERAL(176,190)
            PsiElement({)('{')(176,177)
            PsiWhiteSpace(' ')(177,178)
            RECORD_LITERAL_BODY(178,188)
              RECORD_KEY_VALUE(178,188)
                RECORD_KEY(178,182)
                  VARIABLE_REFERENCE_EXPRESSION(178,182)
                    SIMPLE_VARIABLE_REFERENCE(178,182)
                      NAME_REFERENCE(178,182)
                        PsiElement(identifier)('port')(178,182)
                PsiElement(:)(':')(182,183)
                PsiWhiteSpace(' ')(183,184)
                SIMPLE_LITERAL_EXPRESSION(184,188)
                  SIMPLE_LITERAL(184,188)
                    INTEGER_LITERAL(184,188)
                      PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(184,188)
            PsiWhiteSpace(' ')(188,189)
            PsiElement(})('}')(189,190)
        PsiWhiteSpace(' ')(190,191)
        SERVICE_BODY(191,1126)
          PsiElement({)('{')(191,192)
          PsiWhiteSpace('\n\n    ')(192,198)
          RESOURCE_DEFINITION(198,924)
            ANNOTATION_ATTACHMENT(198,276)
              PsiElement(@)('@')(198,199)
              NAME_REFERENCE(199,218)
                PACKAGE_REFERENCE(199,204)
                  PsiElement(identifier)('http')(199,203)
                  PsiElement(:)(':')(203,204)
                PsiElement(identifier)('ResourceConfig')(204,218)
              PsiWhiteSpace(' ')(218,219)
              RECORD_LITERAL(219,276)
                PsiElement({)('{')(219,220)
                PsiWhiteSpace('\n        ')(220,229)
                RECORD_LITERAL_BODY(229,270)
                  RECORD_KEY_VALUE(229,243)
                    RECORD_KEY(229,233)
                      VARIABLE_REFERENCE_EXPRESSION(229,233)
                        SIMPLE_VARIABLE_REFERENCE(229,233)
                          NAME_REFERENCE(229,233)
                            PsiElement(identifier)('path')(229,233)
                    PsiElement(:)(':')(233,234)
                    PsiWhiteSpace(' ')(234,235)
                    SIMPLE_LITERAL_EXPRESSION(235,243)
                      SIMPLE_LITERAL(235,243)
                        PsiElement(QUOTED_STRING_LITERAL)('"/world"')(235,243)
                  PsiElement(,)(',')(243,244)
                  PsiWhiteSpace('\n        ')(244,253)
                  RECORD_KEY_VALUE(253,270)
                    RECORD_KEY(253,260)
                      VARIABLE_REFERENCE_EXPRESSION(253,260)
                        SIMPLE_VARIABLE_REFERENCE(253,260)
                          NAME_REFERENCE(253,260)
                            PsiElement(identifier)('methods')(253,260)
                    PsiElement(:)(':')(260,261)
                    PsiWhiteSpace(' ')(261,262)
                    ARRAY_LITERAL_EXPRESSION(262,270)
                      ARRAY_LITERAL(262,270)
                        PsiElement([)('[')(262,263)
                        EXPRESSION_LIST(263,269)
                          SIMPLE_LITERAL_EXPRESSION(263,269)
                            SIMPLE_LITERAL(263,269)
                              PsiElement(QUOTED_STRING_LITERAL)('"POST"')(263,269)
                        PsiElement(])(']')(269,270)
                PsiWhiteSpace('\n    ')(270,275)
                PsiElement(})('}')(275,276)
            PsiWhiteSpace('\n    ')(276,281)
            PsiElement(identifier)('httpResource')(281,293)
            PsiElement(()('(')(293,294)
            RESOURCE_PARAMETER_LIST(294,327)
              ENDPOINT_PARAMETER(294,327)
                PsiElement(endpoint)('endpoint')(294,302)
                PsiWhiteSpace(' ')(302,303)
                PsiElement(identifier)('caller')(303,309)
                PsiElement(,)(',')(309,310)
                PsiWhiteSpace(' ')(310,311)
                PARAMETER_LIST(311,327)
                  PARAMETER(311,327)
                    PARAMETER_WITH_TYPE(311,327)
                      SIMPLE_TYPE_NAME(311,323)
                        REFERENCE_TYPE_NAME(311,323)
                          USER_DEFINE_TYPE_NAME(311,323)
                            NAME_REFERENCE(311,323)
                              PACKAGE_REFERENCE(311,316)
                                PsiElement(identifier)('http')(311,315)
                                PsiElement(:)(':')(315,316)
                              PsiElement(identifier)('Request')(316,323)
                      PsiWhiteSpace(' ')(323,324)
                      PsiElement(identifier)('req')(324,327)
            PsiElement())(')')(327,328)
            PsiWhiteSpace(' ')(328,329)
            CALLABLE_UNIT_BODY(329,924)
              PsiElement({)('{')(329,330)
              PsiWhiteSpace('\n        ')(330,339)
              BLOCK(339,918)
                STATEMENT(339,364)
                  VARIABLE_DEFINITION_STATEMENT(339,364)
                    SIMPLE_TYPE_NAME(339,352)
                      REFERENCE_TYPE_NAME(339,352)
                        USER_DEFINE_TYPE_NAME(339,352)
                          NAME_REFERENCE(339,352)
                            PACKAGE_REFERENCE(339,344)
                              PsiElement(identifier)('http')(339,343)
                              PsiElement(:)(':')(343,344)
                            PsiElement(identifier)('Response')(344,352)
                    PsiWhiteSpace(' ')(352,353)
                    PsiElement(identifier)('resp')(353,357)
                    PsiWhiteSpace(' ')(357,358)
                    PsiElement(=)('=')(358,359)
                    PsiWhiteSpace(' ')(359,360)
                    TYPE_INIT_EXPRESSION(360,363)
                      TYPE_INIT_EXPR(360,363)
                        PsiElement(new)('new')(360,363)
                    PsiElement(;)(';')(363,364)
                PsiWhiteSpace('\n        ')(364,373)
                STATEMENT(373,408)
                  ASSIGNMENT_STATEMENT(373,408)
                    PsiElement(var)('var')(373,376)
                    PsiWhiteSpace(' ')(376,377)
                    SIMPLE_VARIABLE_REFERENCE(377,384)
                      NAME_REFERENCE(377,384)
                        PsiElement(identifier)('payload')(377,384)
                    PsiWhiteSpace(' ')(384,385)
                    PsiElement(=)('=')(385,386)
                    PsiWhiteSpace(' ')(386,387)
                    VARIABLE_REFERENCE_EXPRESSION(387,407)
                      INVOCATION_REFERENCE(387,407)
                        SIMPLE_VARIABLE_REFERENCE(387,390)
                          NAME_REFERENCE(387,390)
                            PsiElement(identifier)('req')(387,390)
                        INVOCATION(390,407)
                          PsiElement(.)('.')(390,391)
                          ANY_IDENTIFIER_NAME(391,405)
                            PsiElement(identifier)('getTextPayload')(391,405)
                          PsiElement(()('(')(405,406)
                          PsiElement())(')')(406,407)
                    PsiElement(;)(';')(407,408)
                PsiWhiteSpace('\n        ')(408,417)
                STATEMENT(417,800)
                  MATCH_STATEMENT(417,800)
                    PsiElement(match)('match')(417,422)
                    PsiWhiteSpace(' ')(422,423)
                    VARIABLE_REFERENCE_EXPRESSION(423,430)
                      SIMPLE_VARIABLE_REFERENCE(423,430)
                        NAME_REFERENCE(423,430)
                          PsiElement(identifier)('payload')(423,430)
                    PsiWhiteSpace(' ')(430,431)
                    MATCH_STATEMENT_BODY(431,800)
                      PsiElement({)('{')(431,432)
                      PsiWhiteSpace('\n            ')(432,445)
                      MATCH_PATTERN_CLAUSE(445,634)
                        NAMED_PATTERN(445,634)
                          SIMPLE_TYPE_NAME(445,450)
                            REFERENCE_TYPE_NAME(445,450)
                              USER_DEFINE_TYPE_NAME(445,450)
                                NAME_REFERENCE(445,450)
                                  PsiElement(identifier)('error')(445,450)
                          PsiWhiteSpace(' ')(450,451)
                          PsiElement(identifier)('err')(451,454)
                          PsiWhiteSpace(' ')(454,455)
                          PsiElement(=>)('=>')(455,457)
                          PsiWhiteSpace(' ')(457,458)
                          PsiElement({)('{')(458,459)
                          PsiWhiteSpace('\n                ')(459,476)
                          BLOCK(476,620)
                            STATEMENT(476,527)
                              EXPRESSION_STMT(476,527)
                                VARIABLE_REFERENCE_EXPRESSION(476,526)
                                  FUNCTION_INVOCATION_REFERENCE(476,526)
                                    FUNCTION_INVOCATION(476,526)
                                      FUNCTION_NAME_REFERENCE(476,490)
                                        PACKAGE_REFERENCE(476,480)
                                          PsiElement(identifier)('log')(476,479)
                                          PsiElement(:)(':')(479,480)
                                        ANY_IDENTIFIER_NAME(480,490)
                                          PsiElement(identifier)('printError')(480,490)
                                      PsiElement(()('(')(490,491)
                                      INVOCATION_ARG_LIST(491,525)
                                        INVOCATION_ARG(491,514)
                                          SIMPLE_LITERAL_EXPRESSION(491,514)
                                            SIMPLE_LITERAL(491,514)
                                              PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(491,514)
                                        PsiElement(,)(',')(514,515)
                                        PsiWhiteSpace(' ')(515,516)
                                        INVOCATION_ARG(516,525)
                                          NAMED_ARGS(516,525)
                                            PsiElement(identifier)('err')(516,519)
                                            PsiWhiteSpace(' ')(519,520)
                                            PsiElement(=)('=')(520,521)
                                            PsiWhiteSpace(' ')(521,522)
                                            VARIABLE_REFERENCE_EXPRESSION(522,525)
                                              SIMPLE_VARIABLE_REFERENCE(522,525)
                                                NAME_REFERENCE(522,525)
                                                  PsiElement(identifier)('err')(522,525)
                                      PsiElement())(')')(525,526)
                                PsiElement(;)(';')(526,527)
                            PsiWhiteSpace('\n                ')(527,544)
                            STATEMENT(544,581)
                              EXPRESSION_STMT(544,581)
                                VARIABLE_REFERENCE_EXPRESSION(544,580)
                                  INVOCATION_REFERENCE(544,580)
                                    SIMPLE_VARIABLE_REFERENCE(544,548)
                                      NAME_REFERENCE(544,548)
                                        PsiElement(identifier)('resp')(544,548)
                                    INVOCATION(548,580)
                                      PsiElement(.)('.')(548,549)
                                      ANY_IDENTIFIER_NAME(549,559)
                                        PsiElement(identifier)('setPayload')(549,559)
                                      PsiElement(()('(')(559,560)
                                      INVOCATION_ARG_LIST(560,579)
                                        INVOCATION_ARG(560,579)
                                          UNARY_EXPRESSION(560,579)
                                            PsiElement(untaint)('untaint')(560,567)
                                            PsiWhiteSpace(' ')(567,568)
                                            VARIABLE_REFERENCE_EXPRESSION(568,579)
                                              FIELD_VARIABLE_REFERENCE(568,579)
                                                SIMPLE_VARIABLE_REFERENCE(568,571)
                                                  NAME_REFERENCE(568,571)
                                                    PsiElement(identifier)('err')(568,571)
                                                FIELD(571,579)
                                                  PsiElement(.)('.')(571,572)
                                                  PsiElement(identifier)('message')(572,579)
                                      PsiElement())(')')(579,580)
                                PsiElement(;)(';')(580,581)
                            PsiWhiteSpace('\n                ')(581,598)
                            STATEMENT(598,620)
                              ASSIGNMENT_STATEMENT(598,620)
                                FIELD_VARIABLE_REFERENCE(598,613)
                                  SIMPLE_VARIABLE_REFERENCE(598,602)
                                    NAME_REFERENCE(598,602)
                                      PsiElement(identifier)('resp')(598,602)
                                  FIELD(602,613)
                                    PsiElement(.)('.')(602,603)
                                    PsiElement(identifier)('statusCode')(603,613)
                                PsiWhiteSpace(' ')(613,614)
                                PsiElement(=)('=')(614,615)
                                PsiWhiteSpace(' ')(615,616)
                                SIMPLE_LITERAL_EXPRESSION(616,619)
                                  SIMPLE_LITERAL(616,619)
                                    INTEGER_LITERAL(616,619)
                                      PsiElement(DECIMAL_INTEGER_LITERAL)('500')(616,619)
                                PsiElement(;)(';')(619,620)
                          PsiWhiteSpace('\n            ')(620,633)
                          PsiElement(})('}')(633,634)
                      PsiWhiteSpace('\n            ')(634,647)
                      MATCH_PATTERN_CLAUSE(647,790)
                        NAMED_PATTERN(647,790)
                          SIMPLE_TYPE_NAME(647,653)
                            VALUE_TYPE_NAME(647,653)
                              PsiElement(string)('string')(647,653)
                          PsiWhiteSpace(' ')(653,654)
                          PsiElement(identifier)('val')(654,657)
                          PsiWhiteSpace(' ')(657,658)
                          PsiElement(=>)('=>')(658,660)
                          PsiWhiteSpace(' ')(660,661)
                          PsiElement({)('{')(661,662)
                          PsiWhiteSpace('\n                ')(662,679)
                          BLOCK(679,776)
                            STATEMENT(679,695)
                              EXPRESSION_STMT(679,695)
                                VARIABLE_REFERENCE_EXPRESSION(679,694)
                                  FUNCTION_INVOCATION_REFERENCE(679,694)
                                    FUNCTION_INVOCATION(679,694)
                                      FUNCTION_NAME_REFERENCE(679,689)
                                        PACKAGE_REFERENCE(679,682)
                                          PsiElement(identifier)('io')(679,681)
                                          PsiElement(:)(':')(681,682)
                                        ANY_IDENTIFIER_NAME(682,689)
                                          PsiElement(identifier)('println')(682,689)
                                      PsiElement(()('(')(689,690)
                                      INVOCATION_ARG_LIST(690,693)
                                        INVOCATION_ARG(690,693)
                                          VARIABLE_REFERENCE_EXPRESSION(690,693)
                                            SIMPLE_VARIABLE_REFERENCE(690,693)
                                              NAME_REFERENCE(690,693)
                                                PsiElement(identifier)('val')(690,693)
                                      PsiElement())(')')(693,694)
                                PsiElement(;)(';')(694,695)
                            PsiWhiteSpace('\n                ')(695,712)
                            STATEMENT(712,776)
                              EXPRESSION_STMT(712,776)
                                VARIABLE_REFERENCE_EXPRESSION(712,775)
                                  INVOCATION_REFERENCE(712,775)
                                    SIMPLE_VARIABLE_REFERENCE(712,716)
                                      NAME_REFERENCE(712,716)
                                        PsiElement(identifier)('resp')(712,716)
                                    INVOCATION(716,775)
                                      PsiElement(.)('.')(716,717)
                                      ANY_IDENTIFIER_NAME(717,727)
                                        PsiElement(identifier)('setPayload')(717,727)
                                      PsiElement(()('(')(727,728)
                                      INVOCATION_ARG_LIST(728,774)
                                        INVOCATION_ARG(728,774)
                                          STRING_TEMPLATE_LITERAL_EXPRESSION(728,774)
                                            STRING_TEMPLATE_LITERAL(728,774)
                                              PsiElement(STRING_TEMPLATE_LITERAL_START)('string `')(728,736)
                                              STRING_TEMPLATE_CONTENT(736,773)
                                                PsiElement(STRING_TEMPLATE_EXPRESSION_START)('Http POST received: {{')(736,758)
                                                UNARY_EXPRESSION(758,769)
                                                  PsiElement(untaint)('untaint')(758,765)
                                                  PsiWhiteSpace(' ')(765,766)
                                                  VARIABLE_REFERENCE_EXPRESSION(766,769)
                                                    SIMPLE_VARIABLE_REFERENCE(766,769)
                                                      NAME_REFERENCE(766,769)
                                                        PsiElement(identifier)('val')(766,769)
                                                PsiElement(EXPRESSION_END)('}}')(769,771)
                                                PsiElement(STRING_TEMPLATE_TEXT)('\n')(771,773)
                                              PsiElement(STRING_TEMPLATE_LITERAL_END)('`')(773,774)
                                      PsiElement())(')')(774,775)
                                PsiElement(;)(';')(775,776)
                          PsiWhiteSpace('\n            ')(776,789)
                          PsiElement(})('}')(789,790)
                      PsiWhiteSpace('\n        ')(790,799)
                      PsiElement(})('}')(799,800)
                PsiWhiteSpace('\n\n        ')(800,810)
                STATEMENT(810,918)
                  EXPRESSION_STMT(810,918)
                    MATCH_EXPR_EXPRESSION(810,917)
                      ACTION_INVOCATION_EXPRESSION(810,831)
                        ACTION_INVOCATION(810,831)
                          NAME_REFERENCE(810,816)
                            PsiElement(identifier)('caller')(810,816)
                          PsiElement(->)('->')(816,818)
                          FUNCTION_INVOCATION(818,831)
                            FUNCTION_NAME_REFERENCE(818,825)
                              ANY_IDENTIFIER_NAME(818,825)
                                PsiElement(identifier)('respond')(818,825)
                            PsiElement(()('(')(825,826)
                            INVOCATION_ARG_LIST(826,830)
                              INVOCATION_ARG(826,830)
                                VARIABLE_REFERENCE_EXPRESSION(826,830)
                                  SIMPLE_VARIABLE_REFERENCE(826,830)
                                    NAME_REFERENCE(826,830)
                                      PsiElement(identifier)('resp')(826,830)
                            PsiElement())(')')(830,831)
                      PsiWhiteSpace(' ')(831,832)
                      MATCH_EXPRESSION(832,917)
                        PsiElement(but)('but')(832,835)
                        PsiWhiteSpace(' ')(835,836)
                        PsiElement({)('{')(836,837)
                        PsiWhiteSpace('\n            ')(837,850)
                        MATCH_EXPRESSION_PATTERN_CLAUSE(850,907)
                          SIMPLE_TYPE_NAME(850,855)
                            REFERENCE_TYPE_NAME(850,855)
                              USER_DEFINE_TYPE_NAME(850,855)
                                NAME_REFERENCE(850,855)
                                  PsiElement(identifier)('error')(850,855)
                          PsiWhiteSpace(' ')(855,856)
                          PsiElement(identifier)('e')(856,857)
                          PsiWhiteSpace(' ')(857,858)
                          PsiElement(=>)('=>')(858,860)
                          PsiWhiteSpace(' ')(860,861)
                          VARIABLE_REFERENCE_EXPRESSION(861,907)
                            FUNCTION_INVOCATION_REFERENCE(861,907)
                              FUNCTION_INVOCATION(861,907)
                                FUNCTION_NAME_REFERENCE(861,875)
                                  PACKAGE_REFERENCE(861,865)
                                    PsiElement(identifier)('log')(861,864)
                                    PsiElement(:)(':')(864,865)
                                  ANY_IDENTIFIER_NAME(865,875)
                                    PsiElement(identifier)('printError')(865,875)
                                PsiElement(()('(')(875,876)
                                INVOCATION_ARG_LIST(876,906)
                                  INVOCATION_ARG(876,897)
                                    SIMPLE_LITERAL_EXPRESSION(876,897)
                                      SIMPLE_LITERAL(876,897)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error in responding"')(876,897)
                                  PsiElement(,)(',')(897,898)
                                  PsiWhiteSpace(' ')(898,899)
                                  INVOCATION_ARG(899,906)
                                    NAMED_ARGS(899,906)
                                      PsiElement(identifier)('err')(899,902)
                                      PsiWhiteSpace(' ')(902,903)
                                      PsiElement(=)('=')(903,904)
                                      PsiWhiteSpace(' ')(904,905)
                                      VARIABLE_REFERENCE_EXPRESSION(905,906)
                                        SIMPLE_VARIABLE_REFERENCE(905,906)
                                          NAME_REFERENCE(905,906)
                                            PsiElement(identifier)('e')(905,906)
                                PsiElement())(')')(906,907)
                        PsiWhiteSpace('\n        ')(907,916)
                        PsiElement(})('}')(916,917)
                    PsiElement(;)(';')(917,918)
              PsiWhiteSpace('\n    ')(918,923)
              PsiElement(})('}')(923,924)
          PsiWhiteSpace('\n\n\n    ')(924,931)
          RESOURCE_DEFINITION(931,1124)
            ANNOTATION_ATTACHMENT(931,1067)
              PsiElement(@)('@')(931,932)
              NAME_REFERENCE(932,951)
                PACKAGE_REFERENCE(932,937)
                  PsiElement(identifier)('http')(932,936)
                  PsiElement(:)(':')(936,937)
                PsiElement(identifier)('ResourceConfig')(937,951)
              PsiWhiteSpace(' ')(951,952)
              RECORD_LITERAL(952,1067)
                PsiElement({)('{')(952,953)
                PsiWhiteSpace('\n        ')(953,962)
                RECORD_LITERAL_BODY(962,1061)
                  RECORD_KEY_VALUE(962,1061)
                    RECORD_KEY(962,978)
                      VARIABLE_REFERENCE_EXPRESSION(962,978)
                        SIMPLE_VARIABLE_REFERENCE(962,978)
                          NAME_REFERENCE(962,978)
                            PsiElement(identifier)('webSocketUpgrade')(962,978)
                    PsiElement(:)(':')(978,979)
                    PsiWhiteSpace(' ')(979,980)
                    RECORD_LITERAL_EXPRESSION(980,1061)
                      RECORD_LITERAL(980,1061)
                        PsiElement({)('{')(980,981)
                        PsiWhiteSpace('\n            ')(981,994)
                        RECORD_LITERAL_BODY(994,1051)
                          RECORD_KEY_VALUE(994,1012)
                            RECORD_KEY(994,1005)
                              VARIABLE_REFERENCE_EXPRESSION(994,1005)
                                SIMPLE_VARIABLE_REFERENCE(994,1005)
                                  NAME_REFERENCE(994,1005)
                                    PsiElement(identifier)('upgradePath')(994,1005)
                            PsiElement(:)(':')(1005,1006)
                            PsiWhiteSpace(' ')(1006,1007)
                            SIMPLE_LITERAL_EXPRESSION(1007,1012)
                              SIMPLE_LITERAL(1007,1012)
                                PsiElement(QUOTED_STRING_LITERAL)('"/ws"')(1007,1012)
                          PsiElement(,)(',')(1012,1013)
                          PsiWhiteSpace('\n            ')(1013,1026)
                          RECORD_KEY_VALUE(1026,1051)
                            RECORD_KEY(1026,1040)
                              VARIABLE_REFERENCE_EXPRESSION(1026,1040)
                                SIMPLE_VARIABLE_REFERENCE(1026,1040)
                                  NAME_REFERENCE(1026,1040)
                                    PsiElement(identifier)('upgradeService')(1026,1040)
                            PsiElement(:)(':')(1040,1041)
                            PsiWhiteSpace(' ')(1041,1042)
                            VARIABLE_REFERENCE_EXPRESSION(1042,1051)
                              SIMPLE_VARIABLE_REFERENCE(1042,1051)
                                NAME_REFERENCE(1042,1051)
                                  PsiElement(identifier)('wsService')(1042,1051)
                        PsiWhiteSpace('\n        ')(1051,1060)
                        PsiElement(})('}')(1060,1061)
                PsiWhiteSpace('\n    ')(1061,1066)
                PsiElement(})('}')(1066,1067)
            PsiWhiteSpace('\n    ')(1067,1072)
            PsiElement(identifier)('upgrader')(1072,1080)
            PsiElement(()('(')(1080,1081)
            RESOURCE_PARAMETER_LIST(1081,1114)
              ENDPOINT_PARAMETER(1081,1114)
                PsiElement(endpoint)('endpoint')(1081,1089)
                PsiWhiteSpace(' ')(1089,1090)
                PsiElement(identifier)('caller')(1090,1096)
                PsiElement(,)(',')(1096,1097)
                PsiWhiteSpace(' ')(1097,1098)
                PARAMETER_LIST(1098,1114)
                  PARAMETER(1098,1114)
                    PARAMETER_WITH_TYPE(1098,1114)
                      SIMPLE_TYPE_NAME(1098,1110)
                        REFERENCE_TYPE_NAME(1098,1110)
                          USER_DEFINE_TYPE_NAME(1098,1110)
                            NAME_REFERENCE(1098,1110)
                              PACKAGE_REFERENCE(1098,1103)
                                PsiElement(identifier)('http')(1098,1102)
                                PsiElement(:)(':')(1102,1103)
                              PsiElement(identifier)('Request')(1103,1110)
                      PsiWhiteSpace(' ')(1110,1111)
                      PsiElement(identifier)('req')(1111,1114)
            PsiElement())(')')(1114,1115)
            PsiWhiteSpace(' ')(1115,1116)
            CALLABLE_UNIT_BODY(1116,1124)
              PsiElement({)('{')(1116,1117)
              PsiWhiteSpace('\n\n    ')(1117,1123)
              PsiElement(})('}')(1123,1124)
          PsiWhiteSpace('\n')(1124,1125)
          PsiElement(})('}')(1125,1126)
  PsiWhiteSpace('\n\n\n')(1126,1129)
  PsiComment(LINE_COMMENT)('// Note: When a WebSocket upgrade path is defined in HTTP resource configuration.')(1129,1210)
  PsiWhiteSpace('\n')(1210,1211)
  PsiComment(LINE_COMMENT)('// - Without service configuration for WebSocketService default values are taken for sub protocols, idle timeout etc...')(1211,1330)
  PsiWhiteSpace('\n')(1330,1331)
  PsiComment(LINE_COMMENT)('// - If  WebSocketServiceConfig is defined without the path, sub protocols, idle timeout etc... can be configured.')(1331,1445)
  PsiWhiteSpace('\n')(1445,1446)
  PsiComment(LINE_COMMENT)('// - If path is defined in the WebSocketServiceConfig it shall be ignored.')(1446,1520)
  PsiWhiteSpace('\n')(1520,1521)
  PsiComment(LINE_COMMENT)('// - This service can also be bound to a different endpoint in which case the path configuration becomes useful.')(1521,1633)
  PsiWhiteSpace('\n')(1633,1634)
  DEFINITION(1634,2162)
    ANNOTATION_ATTACHMENT(1634,1728)
      PsiElement(@)('@')(1634,1635)
      NAME_REFERENCE(1635,1662)
        PACKAGE_REFERENCE(1635,1640)
          PsiElement(identifier)('http')(1635,1639)
          PsiElement(:)(':')(1639,1640)
        PsiElement(identifier)('WebSocketServiceConfig')(1640,1662)
      PsiWhiteSpace(' ')(1662,1663)
      RECORD_LITERAL(1663,1728)
        PsiElement({)('{')(1663,1664)
        PsiWhiteSpace('\n    ')(1664,1669)
        RECORD_LITERAL_BODY(1669,1726)
          RECORD_KEY_VALUE(1669,1696)
            RECORD_KEY(1669,1681)
              VARIABLE_REFERENCE_EXPRESSION(1669,1681)
                SIMPLE_VARIABLE_REFERENCE(1669,1681)
                  NAME_REFERENCE(1669,1681)
                    PsiElement(identifier)('subProtocols')(1669,1681)
            PsiElement(:)(':')(1681,1682)
            PsiWhiteSpace(' ')(1682,1683)
            ARRAY_LITERAL_EXPRESSION(1683,1696)
              ARRAY_LITERAL(1683,1696)
                PsiElement([)('[')(1683,1684)
                EXPRESSION_LIST(1684,1695)
                  SIMPLE_LITERAL_EXPRESSION(1684,1695)
                    SIMPLE_LITERAL(1684,1695)
                      PsiElement(QUOTED_STRING_LITERAL)('"xml, json"')(1684,1695)
                PsiElement(])(']')(1695,1696)
          PsiElement(,)(',')(1696,1697)
          PsiWhiteSpace('\n    ')(1697,1702)
          RECORD_KEY_VALUE(1702,1726)
            RECORD_KEY(1702,1722)
              VARIABLE_REFERENCE_EXPRESSION(1702,1722)
                SIMPLE_VARIABLE_REFERENCE(1702,1722)
                  NAME_REFERENCE(1702,1722)
                    PsiElement(identifier)('idleTimeoutInSeconds')(1702,1722)
            PsiElement(:)(':')(1722,1723)
            PsiWhiteSpace(' ')(1723,1724)
            SIMPLE_LITERAL_EXPRESSION(1724,1726)
              SIMPLE_LITERAL(1724,1726)
                INTEGER_LITERAL(1724,1726)
                  PsiElement(DECIMAL_INTEGER_LITERAL)('20')(1724,1726)
        PsiWhiteSpace('\n')(1726,1727)
        PsiElement(})('}')(1727,1728)
    PsiWhiteSpace('\n')(1728,1729)
    DEFINITION(1729,2162)
      SERVICE_DEFINITION(1729,2162)
        PsiElement(service)('service')(1729,1736)
        PsiElement(<)('<')(1736,1737)
        NAME_REFERENCE(1737,1758)
          PACKAGE_REFERENCE(1737,1742)
            PsiElement(identifier)('http')(1737,1741)
            PsiElement(:)(':')(1741,1742)
          PsiElement(identifier)('WebSocketService')(1742,1758)
        PsiElement(>)('>')(1758,1759)
        PsiWhiteSpace(' ')(1759,1760)
        PsiElement(identifier)('wsService')(1760,1769)
        PsiWhiteSpace(' ')(1769,1770)
        SERVICE_BODY(1770,2162)
          PsiElement({)('{')(1770,1771)
          PsiWhiteSpace('\n\n    ')(1771,1777)
          RESOURCE_DEFINITION(1777,1870)
            PsiElement(identifier)('onOpen')(1777,1783)
            PsiElement(()('(')(1783,1784)
            RESOURCE_PARAMETER_LIST(1784,1799)
              ENDPOINT_PARAMETER(1784,1799)
                PsiElement(endpoint)('endpoint')(1784,1792)
                PsiWhiteSpace(' ')(1792,1793)
                PsiElement(identifier)('caller')(1793,1799)
            PsiElement())(')')(1799,1800)
            PsiWhiteSpace(' ')(1800,1801)
            CALLABLE_UNIT_BODY(1801,1870)
              PsiElement({)('{')(1801,1802)
              PsiWhiteSpace('\n        ')(1802,1811)
              BLOCK(1811,1864)
                STATEMENT(1811,1864)
                  EXPRESSION_STMT(1811,1864)
                    VARIABLE_REFERENCE_EXPRESSION(1811,1863)
                      FUNCTION_INVOCATION_REFERENCE(1811,1863)
                        FUNCTION_INVOCATION(1811,1863)
                          FUNCTION_NAME_REFERENCE(1811,1821)
                            PACKAGE_REFERENCE(1811,1814)
                              PsiElement(identifier)('io')(1811,1813)
                              PsiElement(:)(':')(1813,1814)
                            ANY_IDENTIFIER_NAME(1814,1821)
                              PsiElement(identifier)('println')(1814,1821)
                          PsiElement(()('(')(1821,1822)
                          INVOCATION_ARG_LIST(1822,1862)
                            INVOCATION_ARG(1822,1862)
                              BINARY_ADD_SUB_EXPRESSION(1822,1862)
                                SIMPLE_LITERAL_EXPRESSION(1822,1850)
                                  SIMPLE_LITERAL(1822,1850)
                                    PsiElement(QUOTED_STRING_LITERAL)('"New WebSocket connection: "')(1822,1850)
                                PsiWhiteSpace(' ')(1850,1851)
                                PsiElement(+)('+')(1851,1852)
                                PsiWhiteSpace(' ')(1852,1853)
                                VARIABLE_REFERENCE_EXPRESSION(1853,1862)
                                  FIELD_VARIABLE_REFERENCE(1853,1862)
                                    SIMPLE_VARIABLE_REFERENCE(1853,1859)
                                      NAME_REFERENCE(1853,1859)
                                        PsiElement(identifier)('caller')(1853,1859)
                                    FIELD(1859,1862)
                                      PsiElement(.)('.')(1859,1860)
                                      PsiElement(identifier)('id')(1860,1862)
                          PsiElement())(')')(1862,1863)
                    PsiElement(;)(';')(1863,1864)
              PsiWhiteSpace('\n    ')(1864,1869)
              PsiElement(})('}')(1869,1870)
          PsiWhiteSpace('\n\n    ')(1870,1876)
          RESOURCE_DEFINITION(1876,2066)
            PsiElement(identifier)('onText')(1876,1882)
            PsiElement(()('(')(1882,1883)
            RESOURCE_PARAMETER_LIST(1883,1911)
              ENDPOINT_PARAMETER(1883,1911)
                PsiElement(endpoint)('endpoint')(1883,1891)
                PsiWhiteSpace(' ')(1891,1892)
                PsiElement(identifier)('caller')(1892,1898)
                PsiElement(,)(',')(1898,1899)
                PsiWhiteSpace(' ')(1899,1900)
                PARAMETER_LIST(1900,1911)
                  PARAMETER(1900,1911)
                    PARAMETER_WITH_TYPE(1900,1911)
                      SIMPLE_TYPE_NAME(1900,1906)
                        VALUE_TYPE_NAME(1900,1906)
                          PsiElement(string)('string')(1900,1906)
                      PsiWhiteSpace(' ')(1906,1907)
                      PsiElement(identifier)('text')(1907,1911)
            PsiElement())(')')(1911,1912)
            PsiWhiteSpace(' ')(1912,1913)
            CALLABLE_UNIT_BODY(1913,2066)
              PsiElement({)('{')(1913,1914)
              PsiWhiteSpace('\n        ')(1914,1923)
              BLOCK(1923,2060)
                STATEMENT(1923,1940)
                  EXPRESSION_STMT(1923,1940)
                    VARIABLE_REFERENCE_EXPRESSION(1923,1939)
                      FUNCTION_INVOCATION_REFERENCE(1923,1939)
                        FUNCTION_INVOCATION(1923,1939)
                          FUNCTION_NAME_REFERENCE(1923,1933)
                            PACKAGE_REFERENCE(1923,1926)
                              PsiElement(identifier)('io')(1923,1925)
                              PsiElement(:)(':')(1925,1926)
                            ANY_IDENTIFIER_NAME(1926,1933)
                              PsiElement(identifier)('println')(1926,1933)
                          PsiElement(()('(')(1933,1934)
                          INVOCATION_ARG_LIST(1934,1938)
                            INVOCATION_ARG(1934,1938)
                              VARIABLE_REFERENCE_EXPRESSION(1934,1938)
                                SIMPLE_VARIABLE_REFERENCE(1934,1938)
                                  NAME_REFERENCE(1934,1938)
                                    PsiElement(identifier)('text')(1934,1938)
                          PsiElement())(')')(1938,1939)
                    PsiElement(;)(';')(1939,1940)
                PsiWhiteSpace('\n        ')(1940,1949)
                STATEMENT(1949,2060)
                  EXPRESSION_STMT(1949,2060)
                    MATCH_EXPR_EXPRESSION(1949,2059)
                      ACTION_INVOCATION_EXPRESSION(1949,1971)
                        ACTION_INVOCATION(1949,1971)
                          NAME_REFERENCE(1949,1955)
                            PsiElement(identifier)('caller')(1949,1955)
                          PsiElement(->)('->')(1955,1957)
                          FUNCTION_INVOCATION(1957,1971)
                            FUNCTION_NAME_REFERENCE(1957,1965)
                              ANY_IDENTIFIER_NAME(1957,1965)
                                PsiElement(identifier)('pushText')(1957,1965)
                            PsiElement(()('(')(1965,1966)
                            INVOCATION_ARG_LIST(1966,1970)
                              INVOCATION_ARG(1966,1970)
                                VARIABLE_REFERENCE_EXPRESSION(1966,1970)
                                  SIMPLE_VARIABLE_REFERENCE(1966,1970)
                                    NAME_REFERENCE(1966,1970)
                                      PsiElement(identifier)('text')(1966,1970)
                            PsiElement())(')')(1970,1971)
                      PsiWhiteSpace(' ')(1971,1972)
                      MATCH_EXPRESSION(1972,2059)
                        PsiElement(but)('but')(1972,1975)
                        PsiWhiteSpace(' ')(1975,1976)
                        PsiElement({)('{')(1976,1977)
                        PsiWhiteSpace('\n            ')(1977,1990)
                        MATCH_EXPRESSION_PATTERN_CLAUSE(1990,2049)
                          SIMPLE_TYPE_NAME(1990,1995)
                            REFERENCE_TYPE_NAME(1990,1995)
                              USER_DEFINE_TYPE_NAME(1990,1995)
                                NAME_REFERENCE(1990,1995)
                                  PsiElement(identifier)('error')(1990,1995)
                          PsiWhiteSpace(' ')(1995,1996)
                          PsiElement(identifier)('e')(1996,1997)
                          PsiWhiteSpace(' ')(1997,1998)
                          PsiElement(=>)('=>')(1998,2000)
                          PsiWhiteSpace(' ')(2000,2001)
                          VARIABLE_REFERENCE_EXPRESSION(2001,2049)
                            FUNCTION_INVOCATION_REFERENCE(2001,2049)
                              FUNCTION_INVOCATION(2001,2049)
                                FUNCTION_NAME_REFERENCE(2001,2015)
                                  PACKAGE_REFERENCE(2001,2005)
                                    PsiElement(identifier)('log')(2001,2004)
                                    PsiElement(:)(':')(2004,2005)
                                  ANY_IDENTIFIER_NAME(2005,2015)
                                    PsiElement(identifier)('printError')(2005,2015)
                                PsiElement(()('(')(2015,2016)
                                INVOCATION_ARG_LIST(2016,2048)
                                  INVOCATION_ARG(2016,2039)
                                    SIMPLE_LITERAL_EXPRESSION(2016,2039)
                                      SIMPLE_LITERAL(2016,2039)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(2016,2039)
                                  PsiElement(,)(',')(2039,2040)
                                  PsiWhiteSpace(' ')(2040,2041)
                                  INVOCATION_ARG(2041,2048)
                                    NAMED_ARGS(2041,2048)
                                      PsiElement(identifier)('err')(2041,2044)
                                      PsiWhiteSpace(' ')(2044,2045)
                                      PsiElement(=)('=')(2045,2046)
                                      PsiWhiteSpace(' ')(2046,2047)
                                      VARIABLE_REFERENCE_EXPRESSION(2047,2048)
                                        SIMPLE_VARIABLE_REFERENCE(2047,2048)
                                          NAME_REFERENCE(2047,2048)
                                            PsiElement(identifier)('e')(2047,2048)
                                PsiElement())(')')(2048,2049)
                        PsiWhiteSpace('\n        ')(2049,2058)
                        PsiElement(})('}')(2058,2059)
                    PsiElement(;)(';')(2059,2060)
              PsiWhiteSpace('\n    ')(2060,2065)
              PsiElement(})('}')(2065,2066)
          PsiWhiteSpace('\n\n    ')(2066,2072)
          RESOURCE_DEFINITION(2072,2160)
            PsiElement(identifier)('onIdleTimeout')(2072,2085)
            PsiElement(()('(')(2085,2086)
            RESOURCE_PARAMETER_LIST(2086,2101)
              ENDPOINT_PARAMETER(2086,2101)
                PsiElement(endpoint)('endpoint')(2086,2094)
                PsiWhiteSpace(' ')(2094,2095)
                PsiElement(identifier)('caller')(2095,2101)
            PsiElement())(')')(2101,2102)
            PsiWhiteSpace(' ')(2102,2103)
            CALLABLE_UNIT_BODY(2103,2160)
              PsiElement({)('{')(2103,2104)
              PsiWhiteSpace('\n        ')(2104,2113)
              BLOCK(2113,2154)
                STATEMENT(2113,2154)
                  EXPRESSION_STMT(2113,2154)
                    VARIABLE_REFERENCE_EXPRESSION(2113,2153)
                      FUNCTION_INVOCATION_REFERENCE(2113,2153)
                        FUNCTION_INVOCATION(2113,2153)
                          FUNCTION_NAME_REFERENCE(2113,2123)
                            PACKAGE_REFERENCE(2113,2116)
                              PsiElement(identifier)('io')(2113,2115)
                              PsiElement(:)(':')(2115,2116)
                            ANY_IDENTIFIER_NAME(2116,2123)
                              PsiElement(identifier)('println')(2116,2123)
                          PsiElement(()('(')(2123,2124)
                          INVOCATION_ARG_LIST(2124,2152)
                            INVOCATION_ARG(2124,2152)
                              BINARY_ADD_SUB_EXPRESSION(2124,2152)
                                SIMPLE_LITERAL_EXPRESSION(2124,2140)
                                  SIMPLE_LITERAL(2124,2140)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Idle timeout: "')(2124,2140)
                                PsiWhiteSpace(' ')(2140,2141)
                                PsiElement(+)('+')(2141,2142)
                                PsiWhiteSpace(' ')(2142,2143)
                                VARIABLE_REFERENCE_EXPRESSION(2143,2152)
                                  FIELD_VARIABLE_REFERENCE(2143,2152)
                                    SIMPLE_VARIABLE_REFERENCE(2143,2149)
                                      NAME_REFERENCE(2143,2149)
                                        PsiElement(identifier)('caller')(2143,2149)
                                    FIELD(2149,2152)
                                      PsiElement(.)('.')(2149,2150)
                                      PsiElement(identifier)('id')(2150,2152)
                          PsiElement())(')')(2152,2153)
                    PsiElement(;)(';')(2153,2154)
              PsiWhiteSpace('\n    ')(2154,2159)
              PsiElement(})('}')(2159,2160)
          PsiWhiteSpace('\n')(2160,2161)
          PsiElement(})('}')(2161,2162)