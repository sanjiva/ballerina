Ballerina File(0,1958)
  PsiComment(LINE_COMMENT)('// This is the server implementation for the bidirectional streaming scenario.')(0,78)
  PsiWhiteSpace('\n')(78,79)
  IMPORT_DECLARATION(79,99)
    PsiElement(import)('import')(79,85)
    PsiWhiteSpace(' ')(85,86)
    ORG_NAME(86,95)
      PsiElement(identifier)('ballerina')(86,95)
    PsiElement(/)('/')(95,96)
    COMPLETE_PACKAGE_NAME(96,98)
      PACKAGE_NAME(96,98)
        PsiElement(identifier)('io')(96,98)
    PsiElement(;)(';')(98,99)
  PsiWhiteSpace('\n')(99,100)
  IMPORT_DECLARATION(100,122)
    PsiElement(import)('import')(100,106)
    PsiWhiteSpace(' ')(106,107)
    ORG_NAME(107,116)
      PsiElement(identifier)('ballerina')(107,116)
    PsiElement(/)('/')(116,117)
    COMPLETE_PACKAGE_NAME(117,121)
      PACKAGE_NAME(117,121)
        PsiElement(identifier)('grpc')(117,121)
    PsiElement(;)(';')(121,122)
  PsiWhiteSpace('\n\n')(122,124)
  PsiComment(LINE_COMMENT)('// The server endpoint configuration.')(124,161)
  PsiWhiteSpace('\n')(161,162)
  DEFINITION(162,236)
    GLOBAL_ENDPOINT_DEFINITION(162,236)
      ENDPOINT_DEFINITION(162,236)
        PsiElement(endpoint)('endpoint')(162,170)
        PsiWhiteSpace(' ')(170,171)
        ENDPOINT_TYPE(171,184)
          NAME_REFERENCE(171,184)
            PACKAGE_REFERENCE(171,176)
              PsiElement(identifier)('grpc')(171,175)
              PsiElement(:)(':')(175,176)
            PsiElement(identifier)('Listener')(176,184)
        PsiWhiteSpace(' ')(184,185)
        PsiElement(identifier)('listener')(185,193)
        PsiWhiteSpace(' ')(193,194)
        ENDPOINT_INITIALIZATION(194,235)
          RECORD_LITERAL(194,235)
            PsiElement({)('{')(194,195)
            PsiWhiteSpace('\n    ')(195,200)
            RECORD_LITERAL_BODY(200,233)
              RECORD_KEY_VALUE(200,217)
                RECORD_KEY(200,204)
                  VARIABLE_REFERENCE_EXPRESSION(200,204)
                    SIMPLE_VARIABLE_REFERENCE(200,204)
                      NAME_REFERENCE(200,204)
                        PsiElement(identifier)('host')(200,204)
                PsiElement(:)(':')(204,205)
                PsiWhiteSpace(' ')(205,206)
                SIMPLE_LITERAL_EXPRESSION(206,217)
                  SIMPLE_LITERAL(206,217)
                    PsiElement(QUOTED_STRING_LITERAL)('"localhost"')(206,217)
              PsiElement(,)(',')(217,218)
              PsiWhiteSpace('\n    ')(218,223)
              RECORD_KEY_VALUE(223,233)
                RECORD_KEY(223,227)
                  VARIABLE_REFERENCE_EXPRESSION(223,227)
                    SIMPLE_VARIABLE_REFERENCE(223,227)
                      NAME_REFERENCE(223,227)
                        PsiElement(identifier)('port')(223,227)
                PsiElement(:)(':')(227,228)
                PsiWhiteSpace(' ')(228,229)
                SIMPLE_LITERAL_EXPRESSION(229,233)
                  SIMPLE_LITERAL(229,233)
                    INTEGER_LITERAL(229,233)
                      PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(229,233)
            PsiWhiteSpace('\n')(233,234)
            PsiElement(})('}')(234,235)
        PsiElement(;)(';')(235,236)
  PsiWhiteSpace('\n\n')(236,238)
  DEFINITION(238,1891)
    ANNOTATION_ATTACHMENT(238,332)
      PsiElement(@)('@')(238,239)
      NAME_REFERENCE(239,257)
        PACKAGE_REFERENCE(239,244)
          PsiElement(identifier)('grpc')(239,243)
          PsiElement(:)(':')(243,244)
        PsiElement(identifier)('ServiceConfig')(244,257)
      PsiWhiteSpace(' ')(257,258)
      RECORD_LITERAL(258,332)
        PsiElement({)('{')(258,259)
        PsiWhiteSpace('\n    ')(259,264)
        RECORD_LITERAL_BODY(264,330)
          RECORD_KEY_VALUE(264,276)
            RECORD_KEY(264,268)
              VARIABLE_REFERENCE_EXPRESSION(264,268)
                SIMPLE_VARIABLE_REFERENCE(264,268)
                  NAME_REFERENCE(264,268)
                    PsiElement(identifier)('name')(264,268)
            PsiElement(:)(':')(268,269)
            PsiWhiteSpace(' ')(269,270)
            SIMPLE_LITERAL_EXPRESSION(270,276)
              SIMPLE_LITERAL(270,276)
                PsiElement(QUOTED_STRING_LITERAL)('"chat"')(270,276)
          PsiElement(,)(',')(276,277)
          PsiWhiteSpace('\n    ')(277,282)
          RECORD_KEY_VALUE(282,303)
            RECORD_KEY(282,297)
              VARIABLE_REFERENCE_EXPRESSION(282,297)
                SIMPLE_VARIABLE_REFERENCE(282,297)
                  NAME_REFERENCE(282,297)
                    PsiElement(identifier)('clientStreaming')(282,297)
            PsiElement(:)(':')(297,298)
            PsiWhiteSpace(' ')(298,299)
            SIMPLE_LITERAL_EXPRESSION(299,303)
              SIMPLE_LITERAL(299,303)
                PsiElement(BOOLEAN_LITERAL)('true')(299,303)
          PsiElement(,)(',')(303,304)
          PsiWhiteSpace('\n    ')(304,309)
          RECORD_KEY_VALUE(309,330)
            RECORD_KEY(309,324)
              VARIABLE_REFERENCE_EXPRESSION(309,324)
                SIMPLE_VARIABLE_REFERENCE(309,324)
                  NAME_REFERENCE(309,324)
                    PsiElement(identifier)('serverStreaming')(309,324)
            PsiElement(:)(':')(324,325)
            PsiWhiteSpace(' ')(325,326)
            SIMPLE_LITERAL_EXPRESSION(326,330)
              SIMPLE_LITERAL(326,330)
                PsiElement(BOOLEAN_LITERAL)('true')(326,330)
        PsiWhiteSpace('\n')(330,331)
        PsiElement(})('}')(331,332)
    PsiWhiteSpace('\n')(332,333)
    DEFINITION(333,1891)
      SERVICE_DEFINITION(333,1891)
        PsiElement(service)('service')(333,340)
        PsiWhiteSpace(' ')(340,341)
        PsiElement(identifier)('Chat')(341,345)
        PsiWhiteSpace(' ')(345,346)
        SERVICE_ENDPOINT_ATTACHMENTS(346,359)
          PsiElement(bind)('bind')(346,350)
          PsiWhiteSpace(' ')(350,351)
          NAME_REFERENCE(351,359)
            PsiElement(identifier)('listener')(351,359)
        PsiWhiteSpace(' ')(359,360)
        SERVICE_BODY(360,1891)
          PsiElement({)('{')(360,361)
          PsiWhiteSpace('\n    ')(361,366)
          VARIABLE_DEFINITION_STATEMENT(366,393)
            SIMPLE_TYPE_NAME(366,384)
              REFERENCE_TYPE_NAME(366,384)
                BUILT_IN_REFERENCE_TYPE_NAME(366,384)
                  MAP_TYPE_NAME(366,384)
                    PsiElement(map)('map')(366,369)
                    PsiElement(<)('<')(369,370)
                    SIMPLE_TYPE_NAME(370,383)
                      REFERENCE_TYPE_NAME(370,383)
                        USER_DEFINE_TYPE_NAME(370,383)
                          NAME_REFERENCE(370,383)
                            PACKAGE_REFERENCE(370,375)
                              PsiElement(identifier)('grpc')(370,374)
                              PsiElement(:)(':')(374,375)
                            PsiElement(identifier)('Listener')(375,383)
                    PsiElement(>)('>')(383,384)
            PsiWhiteSpace(' ')(384,385)
            PsiElement(identifier)('consMap')(385,392)
            PsiElement(;)(';')(392,393)
          PsiWhiteSpace('\n\n    ')(393,399)
          PsiComment(LINE_COMMENT)('//This resource is triggered when a new caller connection is initialized.')(399,472)
          PsiWhiteSpace('\n    ')(472,477)
          RESOURCE_DEFINITION(477,615)
            PsiElement(identifier)('onOpen')(477,483)
            PsiElement(()('(')(483,484)
            RESOURCE_PARAMETER_LIST(484,499)
              ENDPOINT_PARAMETER(484,499)
                PsiElement(endpoint)('endpoint')(484,492)
                PsiWhiteSpace(' ')(492,493)
                PsiElement(identifier)('caller')(493,499)
            PsiElement())(')')(499,500)
            PsiWhiteSpace(' ')(500,501)
            CALLABLE_UNIT_BODY(501,615)
              PsiElement({)('{')(501,502)
              PsiWhiteSpace('\n        ')(502,511)
              BLOCK(511,609)
                STATEMENT(511,564)
                  EXPRESSION_STMT(511,564)
                    VARIABLE_REFERENCE_EXPRESSION(511,563)
                      FUNCTION_INVOCATION_REFERENCE(511,563)
                        FUNCTION_INVOCATION(511,563)
                          FUNCTION_NAME_REFERENCE(511,521)
                            PACKAGE_REFERENCE(511,514)
                              PsiElement(identifier)('io')(511,513)
                              PsiElement(:)(':')(513,514)
                            ANY_IDENTIFIER_NAME(514,521)
                              PsiElement(identifier)('println')(514,521)
                          PsiElement(()('(')(521,522)
                          INVOCATION_ARG_LIST(522,562)
                            INVOCATION_ARG(522,562)
                              STRING_TEMPLATE_LITERAL_EXPRESSION(522,562)
                                STRING_TEMPLATE_LITERAL(522,562)
                                  PsiElement(STRING_TEMPLATE_LITERAL_START)('string `')(522,530)
                                  STRING_TEMPLATE_CONTENT(530,561)
                                    PsiElement(STRING_TEMPLATE_EXPRESSION_START)('{{')(530,532)
                                    VARIABLE_REFERENCE_EXPRESSION(532,541)
                                      FIELD_VARIABLE_REFERENCE(532,541)
                                        SIMPLE_VARIABLE_REFERENCE(532,538)
                                          NAME_REFERENCE(532,538)
                                            PsiElement(identifier)('caller')(532,538)
                                        FIELD(538,541)
                                          PsiElement(.)('.')(538,539)
                                          PsiElement(identifier)('id')(539,541)
                                    PsiElement(EXPRESSION_END)('}}')(541,543)
                                    PsiElement(STRING_TEMPLATE_TEXT)(' connected to chat')(543,561)
                                  PsiElement(STRING_TEMPLATE_LITERAL_END)('`')(561,562)
                          PsiElement())(')')(562,563)
                    PsiElement(;)(';')(563,564)
                PsiWhiteSpace('\n        ')(564,573)
                STATEMENT(573,609)
                  ASSIGNMENT_STATEMENT(573,609)
                    MAP_ARRAY_VARIABLE_REFERENCE(573,599)
                      SIMPLE_VARIABLE_REFERENCE(573,580)
                        NAME_REFERENCE(573,580)
                          PsiElement(identifier)('consMap')(573,580)
                      INDEX(580,599)
                        PsiElement([)('[')(580,581)
                        TYPE_CONVERSION_EXPRESSION(581,598)
                          PsiElement(<)('<')(581,582)
                          SIMPLE_TYPE_NAME(582,588)
                            VALUE_TYPE_NAME(582,588)
                              PsiElement(string)('string')(582,588)
                          PsiElement(>)('>')(588,589)
                          VARIABLE_REFERENCE_EXPRESSION(589,598)
                            FIELD_VARIABLE_REFERENCE(589,598)
                              SIMPLE_VARIABLE_REFERENCE(589,595)
                                NAME_REFERENCE(589,595)
                                  PsiElement(identifier)('caller')(589,595)
                              FIELD(595,598)
                                PsiElement(.)('.')(595,596)
                                PsiElement(identifier)('id')(596,598)
                        PsiElement(])(']')(598,599)
                    PsiWhiteSpace(' ')(599,600)
                    PsiElement(=)('=')(600,601)
                    PsiWhiteSpace(' ')(601,602)
                    VARIABLE_REFERENCE_EXPRESSION(602,608)
                      SIMPLE_VARIABLE_REFERENCE(602,608)
                        NAME_REFERENCE(602,608)
                          PsiElement(identifier)('caller')(602,608)
                    PsiElement(;)(';')(608,609)
              PsiWhiteSpace('\n    ')(609,614)
              PsiElement(})('}')(614,615)
          PsiWhiteSpace('\n\n    ')(615,621)
          PsiComment(LINE_COMMENT)('//This resource is triggered when the caller sends a request message to the service.')(621,705)
          PsiWhiteSpace('\n    ')(705,710)
          RESOURCE_DEFINITION(710,1057)
            PsiElement(identifier)('onMessage')(710,719)
            PsiElement(()('(')(719,720)
            RESOURCE_PARAMETER_LIST(720,756)
              ENDPOINT_PARAMETER(720,756)
                PsiElement(endpoint)('endpoint')(720,728)
                PsiWhiteSpace(' ')(728,729)
                PsiElement(identifier)('caller')(729,735)
                PsiElement(,)(',')(735,736)
                PsiWhiteSpace(' ')(736,737)
                PARAMETER_LIST(737,756)
                  PARAMETER(737,756)
                    PARAMETER_WITH_TYPE(737,756)
                      SIMPLE_TYPE_NAME(737,748)
                        REFERENCE_TYPE_NAME(737,748)
                          USER_DEFINE_TYPE_NAME(737,748)
                            NAME_REFERENCE(737,748)
                              PsiElement(identifier)('ChatMessage')(737,748)
                      PsiWhiteSpace(' ')(748,749)
                      PsiElement(identifier)('chatMsg')(749,756)
            PsiElement())(')')(756,757)
            PsiWhiteSpace(' ')(757,758)
            CALLABLE_UNIT_BODY(758,1057)
              PsiElement({)('{')(758,759)
              PsiWhiteSpace('\n        ')(759,768)
              BLOCK(768,1051)
                ENDPOINT_DEFINITION(768,794)
                  PsiElement(endpoint)('endpoint')(768,776)
                  PsiWhiteSpace(' ')(776,777)
                  ENDPOINT_TYPE(777,790)
                    NAME_REFERENCE(777,790)
                      PACKAGE_REFERENCE(777,782)
                        PsiElement(identifier)('grpc')(777,781)
                        PsiElement(:)(':')(781,782)
                      PsiElement(identifier)('Listener')(782,790)
                  PsiWhiteSpace(' ')(790,791)
                  PsiElement(identifier)('ep')(791,793)
                  PsiElement(;)(';')(793,794)
                PsiWhiteSpace('\n        ')(794,803)
                STATEMENT(803,863)
                  VARIABLE_DEFINITION_STATEMENT(803,863)
                    SIMPLE_TYPE_NAME(803,809)
                      VALUE_TYPE_NAME(803,809)
                        PsiElement(string)('string')(803,809)
                    PsiWhiteSpace(' ')(809,810)
                    PsiElement(identifier)('msg')(810,813)
                    PsiWhiteSpace(' ')(813,814)
                    PsiElement(=)('=')(814,815)
                    PsiWhiteSpace(' ')(815,816)
                    STRING_TEMPLATE_LITERAL_EXPRESSION(816,862)
                      STRING_TEMPLATE_LITERAL(816,862)
                        PsiElement(STRING_TEMPLATE_LITERAL_START)('string `')(816,824)
                        STRING_TEMPLATE_CONTENT(824,861)
                          PsiElement(STRING_TEMPLATE_EXPRESSION_START)('{{')(824,826)
                          VARIABLE_REFERENCE_EXPRESSION(826,838)
                            FIELD_VARIABLE_REFERENCE(826,838)
                              SIMPLE_VARIABLE_REFERENCE(826,833)
                                NAME_REFERENCE(826,833)
                                  PsiElement(identifier)('chatMsg')(826,833)
                              FIELD(833,838)
                                PsiElement(.)('.')(833,834)
                                PsiElement(identifier)('name')(834,838)
                          PsiElement(EXPRESSION_END)('}}')(838,840)
                          PsiElement(STRING_TEMPLATE_EXPRESSION_START)(': {{')(840,844)
                          VARIABLE_REFERENCE_EXPRESSION(844,859)
                            FIELD_VARIABLE_REFERENCE(844,859)
                              SIMPLE_VARIABLE_REFERENCE(844,851)
                                NAME_REFERENCE(844,851)
                                  PsiElement(identifier)('chatMsg')(844,851)
                              FIELD(851,859)
                                PsiElement(.)('.')(851,852)
                                PsiElement(identifier)('message')(852,859)
                          PsiElement(EXPRESSION_END)('}}')(859,861)
                        PsiElement(STRING_TEMPLATE_LITERAL_END)('`')(861,862)
                    PsiElement(;)(';')(862,863)
                PsiWhiteSpace('\n        ')(863,872)
                STATEMENT(872,888)
                  EXPRESSION_STMT(872,888)
                    VARIABLE_REFERENCE_EXPRESSION(872,887)
                      FUNCTION_INVOCATION_REFERENCE(872,887)
                        FUNCTION_INVOCATION(872,887)
                          FUNCTION_NAME_REFERENCE(872,882)
                            PACKAGE_REFERENCE(872,875)
                              PsiElement(identifier)('io')(872,874)
                              PsiElement(:)(':')(874,875)
                            ANY_IDENTIFIER_NAME(875,882)
                              PsiElement(identifier)('println')(875,882)
                          PsiElement(()('(')(882,883)
                          INVOCATION_ARG_LIST(883,886)
                            INVOCATION_ARG(883,886)
                              VARIABLE_REFERENCE_EXPRESSION(883,886)
                                SIMPLE_VARIABLE_REFERENCE(883,886)
                                  NAME_REFERENCE(883,886)
                                    PsiElement(identifier)('msg')(883,886)
                          PsiElement())(')')(886,887)
                    PsiElement(;)(';')(887,888)
                PsiWhiteSpace('\n        ')(888,897)
                STATEMENT(897,1051)
                  FOREACH_STATEMENT(897,1051)
                    PsiElement(foreach)('foreach')(897,904)
                    PsiWhiteSpace(' ')(904,905)
                    VARIABLE_REFERENCE_LIST(905,912)
                      SIMPLE_VARIABLE_REFERENCE(905,907)
                        NAME_REFERENCE(905,907)
                          PsiElement(identifier)('id')(905,907)
                      PsiElement(,)(',')(907,908)
                      PsiWhiteSpace(' ')(908,909)
                      SIMPLE_VARIABLE_REFERENCE(909,912)
                        NAME_REFERENCE(909,912)
                          PsiElement(identifier)('con')(909,912)
                    PsiWhiteSpace(' ')(912,913)
                    PsiElement(in)('in')(913,915)
                    PsiWhiteSpace(' ')(915,916)
                    VARIABLE_REFERENCE_EXPRESSION(916,923)
                      SIMPLE_VARIABLE_REFERENCE(916,923)
                        NAME_REFERENCE(916,923)
                          PsiElement(identifier)('consMap')(916,923)
                    PsiWhiteSpace(' ')(923,924)
                    PsiElement({)('{')(924,925)
                    PsiWhiteSpace('\n            ')(925,938)
                    BLOCK(938,1041)
                      STATEMENT(938,947)
                        ASSIGNMENT_STATEMENT(938,947)
                          SIMPLE_VARIABLE_REFERENCE(938,940)
                            NAME_REFERENCE(938,940)
                              PsiElement(identifier)('ep')(938,940)
                          PsiWhiteSpace(' ')(940,941)
                          PsiElement(=)('=')(941,942)
                          PsiWhiteSpace(' ')(942,943)
                          VARIABLE_REFERENCE_EXPRESSION(943,946)
                            SIMPLE_VARIABLE_REFERENCE(943,946)
                              NAME_REFERENCE(943,946)
                                PsiElement(identifier)('con')(943,946)
                          PsiElement(;)(';')(946,947)
                      PsiWhiteSpace('\n            ')(947,960)
                      STATEMENT(960,987)
                        VARIABLE_DEFINITION_STATEMENT(960,987)
                          NULLABLE_TYPE_NAME(960,966)
                            SIMPLE_TYPE_NAME(960,965)
                              REFERENCE_TYPE_NAME(960,965)
                                USER_DEFINE_TYPE_NAME(960,965)
                                  NAME_REFERENCE(960,965)
                                    PsiElement(identifier)('error')(960,965)
                            PsiElement(?)('?')(965,966)
                          PsiWhiteSpace(' ')(966,967)
                          PsiElement(identifier)('err')(967,970)
                          PsiWhiteSpace(' ')(970,971)
                          PsiElement(=)('=')(971,972)
                          PsiWhiteSpace(' ')(972,973)
                          ACTION_INVOCATION_EXPRESSION(973,986)
                            ACTION_INVOCATION(973,986)
                              NAME_REFERENCE(973,975)
                                PsiElement(identifier)('ep')(973,975)
                              PsiElement(->)('->')(975,977)
                              FUNCTION_INVOCATION(977,986)
                                FUNCTION_NAME_REFERENCE(977,981)
                                  ANY_IDENTIFIER_NAME(977,981)
                                    PsiElement(identifier)('send')(977,981)
                                PsiElement(()('(')(981,982)
                                INVOCATION_ARG_LIST(982,985)
                                  INVOCATION_ARG(982,985)
                                    VARIABLE_REFERENCE_EXPRESSION(982,985)
                                      SIMPLE_VARIABLE_REFERENCE(982,985)
                                        NAME_REFERENCE(982,985)
                                          PsiElement(identifier)('msg')(982,985)
                                PsiElement())(')')(985,986)
                          PsiElement(;)(';')(986,987)
                      PsiWhiteSpace('\n            ')(987,1000)
                      STATEMENT(1000,1041)
                        EXPRESSION_STMT(1000,1041)
                          VARIABLE_REFERENCE_EXPRESSION(1000,1040)
                            FUNCTION_INVOCATION_REFERENCE(1000,1040)
                              FUNCTION_INVOCATION(1000,1040)
                                FUNCTION_NAME_REFERENCE(1000,1010)
                                  PACKAGE_REFERENCE(1000,1003)
                                    PsiElement(identifier)('io')(1000,1002)
                                    PsiElement(:)(':')(1002,1003)
                                  ANY_IDENTIFIER_NAME(1003,1010)
                                    PsiElement(identifier)('println')(1003,1010)
                                PsiElement(()('(')(1010,1011)
                                INVOCATION_ARG_LIST(1011,1039)
                                  INVOCATION_ARG(1011,1039)
                                    MATCH_EXPR_EXPRESSION(1011,1039)
                                      VARIABLE_REFERENCE_EXPRESSION(1011,1022)
                                        FIELD_VARIABLE_REFERENCE(1011,1022)
                                          SIMPLE_VARIABLE_REFERENCE(1011,1014)
                                            NAME_REFERENCE(1011,1014)
                                              PsiElement(identifier)('err')(1011,1014)
                                          FIELD(1014,1022)
                                            PsiElement(.)('.')(1014,1015)
                                            PsiElement(identifier)('message')(1015,1022)
                                      PsiWhiteSpace(' ')(1022,1023)
                                      MATCH_EXPRESSION(1023,1039)
                                        PsiElement(but)('but')(1023,1026)
                                        PsiWhiteSpace(' ')(1026,1027)
                                        PsiElement({)('{')(1027,1028)
                                        PsiWhiteSpace(' ')(1028,1029)
                                        MATCH_EXPRESSION_PATTERN_CLAUSE(1029,1037)
                                          SIMPLE_TYPE_NAME(1029,1031)
                                            EMPTY_TUPLE_LITERAL(1029,1031)
                                              PsiElement(()('(')(1029,1030)
                                              PsiElement())(')')(1030,1031)
                                          PsiWhiteSpace(' ')(1031,1032)
                                          PsiElement(=>)('=>')(1032,1034)
                                          PsiWhiteSpace(' ')(1034,1035)
                                          SIMPLE_LITERAL_EXPRESSION(1035,1037)
                                            SIMPLE_LITERAL(1035,1037)
                                              PsiElement(QUOTED_STRING_LITERAL)('""')(1035,1037)
                                        PsiWhiteSpace(' ')(1037,1038)
                                        PsiElement(})('}')(1038,1039)
                                PsiElement())(')')(1039,1040)
                          PsiElement(;)(';')(1040,1041)
                    PsiWhiteSpace('\n        ')(1041,1050)
                    PsiElement(})('}')(1050,1051)
              PsiWhiteSpace('\n    ')(1051,1056)
              PsiElement(})('}')(1056,1057)
          PsiWhiteSpace('\n\n    ')(1057,1063)
          PsiComment(LINE_COMMENT)('//This resource is triggered when the server receives an error message from the caller.')(1063,1150)
          PsiWhiteSpace('\n    ')(1150,1155)
          RESOURCE_DEFINITION(1155,1380)
            PsiElement(identifier)('onError')(1155,1162)
            PsiElement(()('(')(1162,1163)
            RESOURCE_PARAMETER_LIST(1163,1189)
              ENDPOINT_PARAMETER(1163,1189)
                PsiElement(endpoint)('endpoint')(1163,1171)
                PsiWhiteSpace(' ')(1171,1172)
                PsiElement(identifier)('caller')(1172,1178)
                PsiElement(,)(',')(1178,1179)
                PsiWhiteSpace(' ')(1179,1180)
                PARAMETER_LIST(1180,1189)
                  PARAMETER(1180,1189)
                    PARAMETER_WITH_TYPE(1180,1189)
                      SIMPLE_TYPE_NAME(1180,1185)
                        REFERENCE_TYPE_NAME(1180,1185)
                          USER_DEFINE_TYPE_NAME(1180,1185)
                            NAME_REFERENCE(1180,1185)
                              PsiElement(identifier)('error')(1180,1185)
                      PsiWhiteSpace(' ')(1185,1186)
                      PsiElement(identifier)('err')(1186,1189)
            PsiElement())(')')(1189,1190)
            PsiWhiteSpace(' ')(1190,1191)
            CALLABLE_UNIT_BODY(1191,1380)
              PsiElement({)('{')(1191,1192)
              PsiWhiteSpace('\n        ')(1192,1201)
              BLOCK(1201,1374)
                STATEMENT(1201,1374)
                  IF_ELSE_STATEMENT(1201,1374)
                    IF_CLAUSE(1201,1374)
                      PsiElement(if)('if')(1201,1203)
                      PsiWhiteSpace(' ')(1203,1204)
                      BRACED_OR_TUPLE_EXPRESSION(1204,1215)
                        PsiElement(()('(')(1204,1205)
                        BINARY_EQUAL_EXPRESSION(1205,1214)
                          VARIABLE_REFERENCE_EXPRESSION(1205,1208)
                            SIMPLE_VARIABLE_REFERENCE(1205,1208)
                              NAME_REFERENCE(1205,1208)
                                PsiElement(identifier)('err')(1205,1208)
                          PsiWhiteSpace(' ')(1208,1209)
                          PsiElement(!=)('!=')(1209,1211)
                          PsiWhiteSpace(' ')(1211,1212)
                          SIMPLE_LITERAL_EXPRESSION(1212,1214)
                            SIMPLE_LITERAL(1212,1214)
                              EMPTY_TUPLE_LITERAL(1212,1214)
                                PsiElement(()('(')(1212,1213)
                                PsiElement())(')')(1213,1214)
                        PsiElement())(')')(1214,1215)
                      PsiWhiteSpace(' ')(1215,1216)
                      PsiElement({)('{')(1216,1217)
                      PsiWhiteSpace('\n            ')(1217,1230)
                      BLOCK(1230,1364)
                        STATEMENT(1230,1364)
                          EXPRESSION_STMT(1230,1364)
                            VARIABLE_REFERENCE_EXPRESSION(1230,1363)
                              FUNCTION_INVOCATION_REFERENCE(1230,1363)
                                FUNCTION_INVOCATION(1230,1363)
                                  FUNCTION_NAME_REFERENCE(1230,1240)
                                    PACKAGE_REFERENCE(1230,1233)
                                      PsiElement(identifier)('io')(1230,1232)
                                      PsiElement(:)(':')(1232,1233)
                                    ANY_IDENTIFIER_NAME(1233,1240)
                                      PsiElement(identifier)('println')(1233,1240)
                                  PsiElement(()('(')(1240,1241)
                                  INVOCATION_ARG_LIST(1241,1362)
                                    INVOCATION_ARG(1241,1362)
                                      BINARY_ADD_SUB_EXPRESSION(1241,1362)
                                        SIMPLE_LITERAL_EXPRESSION(1241,1284)
                                          SIMPLE_LITERAL(1241,1284)
                                            PsiElement(QUOTED_STRING_LITERAL)('"Something unexpected happens at server : "')(1241,1284)
                                        PsiWhiteSpace('\n                                                                ')(1284,1349)
                                        PsiElement(+)('+')(1349,1350)
                                        PsiWhiteSpace(' ')(1350,1351)
                                        VARIABLE_REFERENCE_EXPRESSION(1351,1362)
                                          FIELD_VARIABLE_REFERENCE(1351,1362)
                                            SIMPLE_VARIABLE_REFERENCE(1351,1354)
                                              NAME_REFERENCE(1351,1354)
                                                PsiElement(identifier)('err')(1351,1354)
                                            FIELD(1354,1362)
                                              PsiElement(.)('.')(1354,1355)
                                              PsiElement(identifier)('message')(1355,1362)
                                  PsiElement())(')')(1362,1363)
                            PsiElement(;)(';')(1363,1364)
                      PsiWhiteSpace('\n        ')(1364,1373)
                      PsiElement(})('}')(1373,1374)
              PsiWhiteSpace('\n    ')(1374,1379)
              PsiElement(})('}')(1379,1380)
          PsiWhiteSpace('\n\n    ')(1380,1386)
          PsiComment(LINE_COMMENT)('//This resource is triggered when the caller sends a notification to the server to indicate that it has finished sending messages.')(1386,1516)
          PsiWhiteSpace('\n    ')(1516,1521)
          RESOURCE_DEFINITION(1521,1889)
            PsiElement(identifier)('onComplete')(1521,1531)
            PsiElement(()('(')(1531,1532)
            RESOURCE_PARAMETER_LIST(1532,1547)
              ENDPOINT_PARAMETER(1532,1547)
                PsiElement(endpoint)('endpoint')(1532,1540)
                PsiWhiteSpace(' ')(1540,1541)
                PsiElement(identifier)('caller')(1541,1547)
            PsiElement())(')')(1547,1548)
            PsiWhiteSpace(' ')(1548,1549)
            CALLABLE_UNIT_BODY(1549,1889)
              PsiElement({)('{')(1549,1550)
              PsiWhiteSpace('\n        ')(1550,1559)
              BLOCK(1559,1883)
                ENDPOINT_DEFINITION(1559,1585)
                  PsiElement(endpoint)('endpoint')(1559,1567)
                  PsiWhiteSpace(' ')(1567,1568)
                  ENDPOINT_TYPE(1568,1581)
                    NAME_REFERENCE(1568,1581)
                      PACKAGE_REFERENCE(1568,1573)
                        PsiElement(identifier)('grpc')(1568,1572)
                        PsiElement(:)(':')(1572,1573)
                      PsiElement(identifier)('Listener')(1573,1581)
                  PsiWhiteSpace(' ')(1581,1582)
                  PsiElement(identifier)('ep')(1582,1584)
                  PsiElement(;)(';')(1584,1585)
                PsiWhiteSpace('\n        ')(1585,1594)
                STATEMENT(1594,1644)
                  VARIABLE_DEFINITION_STATEMENT(1594,1644)
                    SIMPLE_TYPE_NAME(1594,1600)
                      VALUE_TYPE_NAME(1594,1600)
                        PsiElement(string)('string')(1594,1600)
                    PsiWhiteSpace(' ')(1600,1601)
                    PsiElement(identifier)('msg')(1601,1604)
                    PsiWhiteSpace(' ')(1604,1605)
                    PsiElement(=)('=')(1605,1606)
                    PsiWhiteSpace(' ')(1606,1607)
                    STRING_TEMPLATE_LITERAL_EXPRESSION(1607,1643)
                      STRING_TEMPLATE_LITERAL(1607,1643)
                        PsiElement(STRING_TEMPLATE_LITERAL_START)('string `')(1607,1615)
                        STRING_TEMPLATE_CONTENT(1615,1642)
                          PsiElement(STRING_TEMPLATE_EXPRESSION_START)('{{')(1615,1617)
                          VARIABLE_REFERENCE_EXPRESSION(1617,1626)
                            FIELD_VARIABLE_REFERENCE(1617,1626)
                              SIMPLE_VARIABLE_REFERENCE(1617,1623)
                                NAME_REFERENCE(1617,1623)
                                  PsiElement(identifier)('caller')(1617,1623)
                              FIELD(1623,1626)
                                PsiElement(.)('.')(1623,1624)
                                PsiElement(identifier)('id')(1624,1626)
                          PsiElement(EXPRESSION_END)('}}')(1626,1628)
                          PsiElement(STRING_TEMPLATE_TEXT)(' left the chat')(1628,1642)
                        PsiElement(STRING_TEMPLATE_LITERAL_END)('`')(1642,1643)
                    PsiElement(;)(';')(1643,1644)
                PsiWhiteSpace('\n        ')(1644,1653)
                STATEMENT(1653,1669)
                  EXPRESSION_STMT(1653,1669)
                    VARIABLE_REFERENCE_EXPRESSION(1653,1668)
                      FUNCTION_INVOCATION_REFERENCE(1653,1668)
                        FUNCTION_INVOCATION(1653,1668)
                          FUNCTION_NAME_REFERENCE(1653,1663)
                            PACKAGE_REFERENCE(1653,1656)
                              PsiElement(identifier)('io')(1653,1655)
                              PsiElement(:)(':')(1655,1656)
                            ANY_IDENTIFIER_NAME(1656,1663)
                              PsiElement(identifier)('println')(1656,1663)
                          PsiElement(()('(')(1663,1664)
                          INVOCATION_ARG_LIST(1664,1667)
                            INVOCATION_ARG(1664,1667)
                              VARIABLE_REFERENCE_EXPRESSION(1664,1667)
                                SIMPLE_VARIABLE_REFERENCE(1664,1667)
                                  NAME_REFERENCE(1664,1667)
                                    PsiElement(identifier)('msg')(1664,1667)
                          PsiElement())(')')(1667,1668)
                    PsiElement(;)(';')(1668,1669)
                PsiWhiteSpace('\n        ')(1669,1678)
                STATEMENT(1678,1720)
                  ASSIGNMENT_STATEMENT(1678,1720)
                    PsiElement(var)('var')(1678,1681)
                    PsiWhiteSpace(' ')(1681,1682)
                    SIMPLE_VARIABLE_REFERENCE(1682,1683)
                      NAME_REFERENCE(1682,1683)
                        PsiElement(identifier)('v')(1682,1683)
                    PsiWhiteSpace(' ')(1683,1684)
                    PsiElement(=)('=')(1684,1685)
                    PsiWhiteSpace(' ')(1685,1686)
                    VARIABLE_REFERENCE_EXPRESSION(1686,1719)
                      INVOCATION_REFERENCE(1686,1719)
                        SIMPLE_VARIABLE_REFERENCE(1686,1693)
                          NAME_REFERENCE(1686,1693)
                            PsiElement(identifier)('consMap')(1686,1693)
                        INVOCATION(1693,1719)
                          PsiElement(.)('.')(1693,1694)
                          ANY_IDENTIFIER_NAME(1694,1700)
                            PsiElement(identifier)('remove')(1694,1700)
                          PsiElement(()('(')(1700,1701)
                          INVOCATION_ARG_LIST(1701,1718)
                            INVOCATION_ARG(1701,1718)
                              TYPE_CONVERSION_EXPRESSION(1701,1718)
                                PsiElement(<)('<')(1701,1702)
                                SIMPLE_TYPE_NAME(1702,1708)
                                  VALUE_TYPE_NAME(1702,1708)
                                    PsiElement(string)('string')(1702,1708)
                                PsiElement(>)('>')(1708,1709)
                                VARIABLE_REFERENCE_EXPRESSION(1709,1718)
                                  FIELD_VARIABLE_REFERENCE(1709,1718)
                                    SIMPLE_VARIABLE_REFERENCE(1709,1715)
                                      NAME_REFERENCE(1709,1715)
                                        PsiElement(identifier)('caller')(1709,1715)
                                    FIELD(1715,1718)
                                      PsiElement(.)('.')(1715,1716)
                                      PsiElement(identifier)('id')(1716,1718)
                          PsiElement())(')')(1718,1719)
                    PsiElement(;)(';')(1719,1720)
                PsiWhiteSpace('\n        ')(1720,1729)
                STATEMENT(1729,1883)
                  FOREACH_STATEMENT(1729,1883)
                    PsiElement(foreach)('foreach')(1729,1736)
                    PsiWhiteSpace(' ')(1736,1737)
                    VARIABLE_REFERENCE_LIST(1737,1744)
                      SIMPLE_VARIABLE_REFERENCE(1737,1739)
                        NAME_REFERENCE(1737,1739)
                          PsiElement(identifier)('id')(1737,1739)
                      PsiElement(,)(',')(1739,1740)
                      PsiWhiteSpace(' ')(1740,1741)
                      SIMPLE_VARIABLE_REFERENCE(1741,1744)
                        NAME_REFERENCE(1741,1744)
                          PsiElement(identifier)('con')(1741,1744)
                    PsiWhiteSpace(' ')(1744,1745)
                    PsiElement(in)('in')(1745,1747)
                    PsiWhiteSpace(' ')(1747,1748)
                    VARIABLE_REFERENCE_EXPRESSION(1748,1755)
                      SIMPLE_VARIABLE_REFERENCE(1748,1755)
                        NAME_REFERENCE(1748,1755)
                          PsiElement(identifier)('consMap')(1748,1755)
                    PsiWhiteSpace(' ')(1755,1756)
                    PsiElement({)('{')(1756,1757)
                    PsiWhiteSpace('\n            ')(1757,1770)
                    BLOCK(1770,1873)
                      STATEMENT(1770,1779)
                        ASSIGNMENT_STATEMENT(1770,1779)
                          SIMPLE_VARIABLE_REFERENCE(1770,1772)
                            NAME_REFERENCE(1770,1772)
                              PsiElement(identifier)('ep')(1770,1772)
                          PsiWhiteSpace(' ')(1772,1773)
                          PsiElement(=)('=')(1773,1774)
                          PsiWhiteSpace(' ')(1774,1775)
                          VARIABLE_REFERENCE_EXPRESSION(1775,1778)
                            SIMPLE_VARIABLE_REFERENCE(1775,1778)
                              NAME_REFERENCE(1775,1778)
                                PsiElement(identifier)('con')(1775,1778)
                          PsiElement(;)(';')(1778,1779)
                      PsiWhiteSpace('\n            ')(1779,1792)
                      STATEMENT(1792,1819)
                        VARIABLE_DEFINITION_STATEMENT(1792,1819)
                          NULLABLE_TYPE_NAME(1792,1798)
                            SIMPLE_TYPE_NAME(1792,1797)
                              REFERENCE_TYPE_NAME(1792,1797)
                                USER_DEFINE_TYPE_NAME(1792,1797)
                                  NAME_REFERENCE(1792,1797)
                                    PsiElement(identifier)('error')(1792,1797)
                            PsiElement(?)('?')(1797,1798)
                          PsiWhiteSpace(' ')(1798,1799)
                          PsiElement(identifier)('err')(1799,1802)
                          PsiWhiteSpace(' ')(1802,1803)
                          PsiElement(=)('=')(1803,1804)
                          PsiWhiteSpace(' ')(1804,1805)
                          ACTION_INVOCATION_EXPRESSION(1805,1818)
                            ACTION_INVOCATION(1805,1818)
                              NAME_REFERENCE(1805,1807)
                                PsiElement(identifier)('ep')(1805,1807)
                              PsiElement(->)('->')(1807,1809)
                              FUNCTION_INVOCATION(1809,1818)
                                FUNCTION_NAME_REFERENCE(1809,1813)
                                  ANY_IDENTIFIER_NAME(1809,1813)
                                    PsiElement(identifier)('send')(1809,1813)
                                PsiElement(()('(')(1813,1814)
                                INVOCATION_ARG_LIST(1814,1817)
                                  INVOCATION_ARG(1814,1817)
                                    VARIABLE_REFERENCE_EXPRESSION(1814,1817)
                                      SIMPLE_VARIABLE_REFERENCE(1814,1817)
                                        NAME_REFERENCE(1814,1817)
                                          PsiElement(identifier)('msg')(1814,1817)
                                PsiElement())(')')(1817,1818)
                          PsiElement(;)(';')(1818,1819)
                      PsiWhiteSpace('\n            ')(1819,1832)
                      STATEMENT(1832,1873)
                        EXPRESSION_STMT(1832,1873)
                          VARIABLE_REFERENCE_EXPRESSION(1832,1872)
                            FUNCTION_INVOCATION_REFERENCE(1832,1872)
                              FUNCTION_INVOCATION(1832,1872)
                                FUNCTION_NAME_REFERENCE(1832,1842)
                                  PACKAGE_REFERENCE(1832,1835)
                                    PsiElement(identifier)('io')(1832,1834)
                                    PsiElement(:)(':')(1834,1835)
                                  ANY_IDENTIFIER_NAME(1835,1842)
                                    PsiElement(identifier)('println')(1835,1842)
                                PsiElement(()('(')(1842,1843)
                                INVOCATION_ARG_LIST(1843,1871)
                                  INVOCATION_ARG(1843,1871)
                                    MATCH_EXPR_EXPRESSION(1843,1871)
                                      VARIABLE_REFERENCE_EXPRESSION(1843,1854)
                                        FIELD_VARIABLE_REFERENCE(1843,1854)
                                          SIMPLE_VARIABLE_REFERENCE(1843,1846)
                                            NAME_REFERENCE(1843,1846)
                                              PsiElement(identifier)('err')(1843,1846)
                                          FIELD(1846,1854)
                                            PsiElement(.)('.')(1846,1847)
                                            PsiElement(identifier)('message')(1847,1854)
                                      PsiWhiteSpace(' ')(1854,1855)
                                      MATCH_EXPRESSION(1855,1871)
                                        PsiElement(but)('but')(1855,1858)
                                        PsiWhiteSpace(' ')(1858,1859)
                                        PsiElement({)('{')(1859,1860)
                                        PsiWhiteSpace(' ')(1860,1861)
                                        MATCH_EXPRESSION_PATTERN_CLAUSE(1861,1869)
                                          SIMPLE_TYPE_NAME(1861,1863)
                                            EMPTY_TUPLE_LITERAL(1861,1863)
                                              PsiElement(()('(')(1861,1862)
                                              PsiElement())(')')(1862,1863)
                                          PsiWhiteSpace(' ')(1863,1864)
                                          PsiElement(=>)('=>')(1864,1866)
                                          PsiWhiteSpace(' ')(1866,1867)
                                          SIMPLE_LITERAL_EXPRESSION(1867,1869)
                                            SIMPLE_LITERAL(1867,1869)
                                              PsiElement(QUOTED_STRING_LITERAL)('""')(1867,1869)
                                        PsiWhiteSpace(' ')(1869,1870)
                                        PsiElement(})('}')(1870,1871)
                                PsiElement())(')')(1871,1872)
                          PsiElement(;)(';')(1872,1873)
                    PsiWhiteSpace('\n        ')(1873,1882)
                    PsiElement(})('}')(1882,1883)
              PsiWhiteSpace('\n    ')(1883,1888)
              PsiElement(})('}')(1888,1889)
          PsiWhiteSpace('\n')(1889,1890)
          PsiElement(})('}')(1890,1891)
  PsiWhiteSpace('\n\n')(1891,1893)
  DEFINITION(1893,1958)
    TYPE_DEFINITION(1893,1958)
      PsiElement(type)('type')(1893,1897)
      PsiWhiteSpace(' ')(1897,1898)
      PsiElement(identifier)('ChatMessage')(1898,1909)
      PsiWhiteSpace(' ')(1909,1910)
      FINITE_TYPE(1910,1957)
        FINITE_TYPE_UNIT(1910,1957)
          RECORD_TYPE_NAME(1910,1957)
            PsiElement(record)('record')(1910,1916)
            PsiWhiteSpace(' ')(1916,1917)
            PsiElement({)('{')(1917,1918)
            PsiWhiteSpace('\n    ')(1918,1923)
            RECORD_FIELD_DEFINITION_LIST(1923,1955)
              FIELD_DEFINITION(1923,1935)
                SIMPLE_TYPE_NAME(1923,1929)
                  VALUE_TYPE_NAME(1923,1929)
                    PsiElement(string)('string')(1923,1929)
                PsiWhiteSpace(' ')(1929,1930)
                PsiElement(identifier)('name')(1930,1934)
                PsiElement(;)(';')(1934,1935)
              PsiWhiteSpace('\n    ')(1935,1940)
              FIELD_DEFINITION(1940,1955)
                SIMPLE_TYPE_NAME(1940,1946)
                  VALUE_TYPE_NAME(1940,1946)
                    PsiElement(string)('string')(1940,1946)
                PsiWhiteSpace(' ')(1946,1947)
                PsiElement(identifier)('message')(1947,1954)
                PsiElement(;)(';')(1954,1955)
            PsiWhiteSpace('\n')(1955,1956)
            PsiElement(})('}')(1956,1957)
      PsiElement(;)(';')(1957,1958)